(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account~cvs~mentor"],{"0251":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-dialog"},[n("transition",{attrs:{name:"mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogState,expression:"dialogState"}],staticClass:"mask",on:{click:t.handleClose}})]),n("transition",{attrs:{name:"alert"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogState,expression:"dialogState"}],staticClass:"w-dialog-content",class:{"reset-dialog-content":t.dialogContentData.isSetOnlineCv},style:{top:t.top+"%"}},[t.options.showCloseIcon?n("i",{staticClass:"iconfont iconx",on:{click:t.handleClose}}):t._e(),n("p",{staticClass:"title"},[t._v(t._s(t.dialogContentData.title))]),t.dialogContentData.isSetOnlineCv?n("div",{staticClass:"set-online-content"},[n("div",{staticClass:"item"},[n("div",{staticClass:"point"}),n("span",[t._v("已达优秀简历标准，正优先推荐至 HR")])]),n("div",{staticClass:"item"},[n("div",{staticClass:"point"}),n("span",[t._v("可在【设置】选择屏蔽公司/关闭推荐")])]),n("div",{staticClass:"item active"},[n("div",{staticClass:"point"}),n("span",[t._v("开启直接联系：允许HR主动与你交换联系方式，不在错过重要机会")])])]):n("p",{staticClass:"content",domProps:{innerHTML:t._s(t.dialogContentData.content)}}),n("div",{staticClass:"dialog-buttons"},[t.dialogContentData.cancelText?n("button",{staticClass:"cancel-btn",class:{"reset-canel-btn":t.dialogContentData.isSetOnlineCv},on:{click:function(e){t.dialogContentData.cancelFn&&t.dialogContentData.cancelFn()}}},[t._v(t._s(t.dialogContentData.cancelText))]):t._e(),t.dialogContentData.confirmText?n("button",{staticClass:"confirm-btn",on:{click:function(e){t.dialogContentData.confirmFn&&t.dialogContentData.confirmFn()}}},[t._v(t._s(t.dialogContentData.confirmText))]):t._e()])])])],1)},i=[],a=(n("a9e3"),{props:{dialogState:{type:Boolean,default:!1},top:{type:[String,Number],default:15},dialogContentData:{type:Object,default:function(){return{title:"提示",content:"",confirmText:"确定",cancelText:"取消",confirmFn:function(){},cancelFn:function(){}}}},options:{type:Object,default:function(){return{}}}},data:function(){return{}},components:{},watch:{},computed:{},methods:{handleClose:function(){this.$emit("handleClose")}}}),r=a,c=(n("487b"),n("2877")),o=Object(c["a"])(r,s,i,!1,null,"c885e580",null);e["a"]=o.exports},"0656":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("4de4"),n("fb6a");var s={methods:{debounce:function(t,e){var n=this;this.timerMixin&&clearTimeout(this.timerMixin);var s=Array.prototype.slice.call(arguments).filter((function(t,e){return e>1}));this.timerMixin=setTimeout((function(){t.apply(n,s)}),e)},throttle:function(t,e){var n=null;return function(){var s=+new Date;(s-n>e||!n)&&(t(),n=s)}}}}},"1aa7":function(t,e,n){},2593:function(t,e,n){},3278:function(t){t.exports=JSON.parse('[{"id":6,"cn":"中专","en":"Senior High School"},{"id":7,"cn":"高中","en":"High School"},{"id":1,"cn":"大专","en":"Diploma"},{"id":2,"cn":"本科","en":"Bachelor"},{"id":3,"cn":"硕士","en":"Master"},{"id":4,"cn":"博士","en":"Doctor"},{"id":5,"cn":"MBA","en":"MBA"}]')},"3a1a":function(t,e,n){"use strict";n("beab")},"3fa3":function(t,e,n){},4403:function(t,e,n){},"487b":function(t,e,n){"use strict";n("fe85")},"58ea":function(t,e,n){"use strict";n("2593")},8131:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["radio-main",t.disabled?"disabled":"","one"===t.line?"line":"more"===t.line?"more":""]},t._l(t.list,(function(e,s){return n("div",{key:s,class:["menu",e.value===t.select?"action":"",{"disabled-menu":"time"===e.value&&t.hasWorkSubItem}],on:{click:function(n){("time"!==e.value||!t.hasWorkSubItem)&&t.selectOption(e.value)}}},[n("div",{staticClass:"menu-select"}),n("div",{staticClass:"menu-content",domProps:{innerHTML:t._s(e.content)}})])})),0)},i=[],a=n("5530"),r=n("2f62"),c={name:"radio",props:{value:"",line:{type:String,default:"two"},list:{type:Array},disabled:{type:Boolean,default:!1}},data:function(){return{select:""}},computed:Object(a["a"])({},Object(r["e"])("editor",["hasWorkSubItem"])),watch:{hasWorkSubItem:function(t){console.log(t,"===============>hasWorkSubItem============")},value:{keep:!0,immediate:!0,handler:function(t){this.select=t}},select:{keep:!0,immediate:!0,handler:function(t){this.$emit("input",t)}}},methods:{selectOption:function(t){this._value=t,this.$emit("input",t),this.$emit("change",t)}}},o=c,u=(n("b63d"),n("2877")),l=Object(u["a"])(o,s,i,!1,null,"59f7ed03",null);e["a"]=l.exports},"93fc":function(t,e,n){},"9ea0":function(t,e,n){"use strict";n("3fa3")},"9f42":function(t,e,n){"use strict";n("1aa7")},a0da:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cvs-alert-main"},[n("transition",{attrs:{name:"opacity"}},[t.alertData.show?n("div",{staticClass:"cover",on:{click:t.closeDialog}}):t._e()]),n("transition",{attrs:{name:"opacity"}},[t.data.show&&"identity"===t.data.type?n("div",{staticClass:"box identity"},[n("i",{staticClass:"close iconfont iconx",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}),n("div",{staticClass:"identity-title"},[t._v("你的身份是")]),n("div",{staticClass:"identity-option"},[n("div",{staticClass:"identity-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectIdentity(1)},mousedown:function(t){t.preventDefault()}}},[n("img",{attrs:{src:1===t.identity?"https://files.wondercv.com/pcvue/w2.png":"https://files.wondercv.com/pcvue/w1.png",alt:""}}),n("p",[t._v("学生")])]),n("div",{staticClass:"identity-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.selectIdentity(2)},mousedown:function(t){t.preventDefault()}}},[n("img",{attrs:{src:2===t.identity?"https://files.wondercv.com/pcvue/m2.png":"https://files.wondercv.com/pcvue/m1.png",alt:""}}),n("p",[t._v("职场人")])])])]):t._e(),t.data.show&&"onLine"===t.data.type?n("div",{staticClass:"box on-line"},["onLine"===t.step[0]?n("i",{staticClass:"close iconfont iconx",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e(),n("div",{staticClass:"on-title"},[t._v("选择一份简历开启推荐")]),n("div",{staticClass:"on-msg"},[t._v("简历建议及时更新，获得优质 HR 推荐")]),n("div",{staticClass:"on-content"},[t._l(t.cvs,(function(e,s){return[!e.is_mentor&&"cn"===e.lang&&e.can_editable?n("div",{key:e.token,class:["on-menu",t.cv.token===e.token?"active":""],on:{click:function(n){return t.selectCv(e,s)}}},[n("div",{staticClass:"on-menu-select"},[n("i",{staticClass:"iconfont iconcheck"})]),n("div",{staticClass:"on-menu-text text-overflow"},[t._v(t._s(e["name"]||e["cv_name"]||""))]),n("div",{staticClass:"on-menu-tag"},[n("div",{staticClass:"blue"},[t._v(t._s(t._f("langFilter")(e.lang)))]),n("div",{staticClass:"red"},[t._v(t._s(null===e.score?40:e.score)+"分")])])]):t._e()]}))],2),n("div",{staticClass:"btn"},[t.getShowPrev("onLine")?n("button",{staticClass:"prev-btn",on:{click:t.onlinePrev}},[t._v("上一步")]):t._e(),n("button",{class:t.cv.token?"active":"disabled",on:{click:function(e){return t.selectCvNuxt()}}},[t._v("下一步")])])]):t._e(),t.alertData.show&&"baseInfo"===t.data.type?n("div",{staticClass:"box base-info"},["baseInfo"===t.step[0]||"updated"===t.updatedType&&"baseInfo"===t.step[1]?n("i",{staticClass:"close iconfont iconx",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e(),n("div",{staticClass:"base-title"},[t._v("请补充基本信息")]),n("div",{staticClass:"base-msg"},[t._v("个人信息")]),n("el-form",{staticClass:"base-form"},[n("div",{staticClass:"base-option"},[n("div",{staticClass:"base-item"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("姓名")]),n("el-input",{attrs:{placeholder:"请填写姓名"},on:{input:t.getIsBaseInfoNuxt},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),n("div",{staticClass:"base-item"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("性别")]),n("el-select",{attrs:{clearable:"",placeholder:"请选择性别"},on:{input:t.getIsBaseInfoNuxt},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},t._l(["男","女"],(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)]),n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("联系方式")]),n("el-input",{staticClass:"phone",attrs:{placeholder:"请填写联系方式",disabled:t.isPhoneDisabled},on:{input:t.getIsBaseInfoNuxt},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}},[n("template",{slot:"prepend"},[t._v("+86")]),t.isPhoneDisabled?n("template",{slot:"append"},[n("span",{on:{click:function(e){t.isPhoneDisabled=!1,t.getIsBaseInfoNuxt()}}},[t._v("修改")])]):t._e()],2)],1),n("el-form-item",{style:{opacity:t.isPhoneDisabled?0:1}},[n("div",{staticClass:"base-name"},[t._v("验证码")]),n("el-input",{staticClass:"code",attrs:{placeholder:"请输入验证码"},on:{input:t.getIsBaseInfoNuxt},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[n("template",{slot:"append"},[n("span",{on:{click:t.sendCode}},[t._v(t._s(t.codeText))])])],2)],1)],1),n("div",{staticClass:"btn"},["baseInfo"===t.step[0]||"updated"===t.updatedType&&"baseInfo"===t.step[1]?t._e():n("button",{staticClass:"prev-btn",on:{click:t.baseInfoPrev}},[t._v("上一步 ")]),n("button",{class:[t.isBaseInfoNext?"active":"disabled"],on:{click:t.baseInfoNext}},[t._v("下一步")])])],1):t._e(),t.alertData.show&&"edu"===t.data.type?n("div",{staticClass:"box base-info"},["edu"===t.step[0]||"updated"===t.updatedType&&"edu"===t.step[1]?n("i",{staticClass:"close iconfont iconx",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e(),n("div",{staticClass:"base-title"},[t._v("请补充基本信息")]),n("div",{staticClass:"base-msg"},[t._v("教育经历")]),n("el-form",{staticClass:"base-form"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("学校")]),n("el-input",{attrs:{placeholder:"请填写学校名称"},on:{change:t.getIsEduNext},model:{value:t.edu.university,callback:function(e){t.$set(t.edu,"university",e)},expression:"edu.university"}})],1),n("div",{staticClass:"base-option"},[n("div",{staticClass:"base-item"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("专业")]),n("el-input",{attrs:{placeholder:"请填写专业名称"},on:{change:t.getIsEduNext},model:{value:t.edu.major,callback:function(e){t.$set(t.edu,"major",e)},expression:"edu.major"}})],1)],1),n("div",{staticClass:"base-item"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("学历")]),n("el-select",{attrs:{clearable:"",placeholder:"请选择","value-key":"id"},on:{change:t.getIsEduNext},model:{value:t.edu.degree,callback:function(e){t.$set(t.edu,"degree",e)},expression:"edu.degree"}},t._l(t.degreeOptions,(function(t,e){return n("el-option",{key:e,attrs:{label:t.cn,value:t}})})),1)],1)],1)]),n("div",{staticClass:"base-option"},[n("div",{staticClass:"base-item"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("教育时间")]),n("el-date-picker",{attrs:{align:"right",type:"month",placeholder:"开始时间","value-format":"yyyy-MM","default-value":(new Date).getFullYear()-4+"-09"},on:{change:function(e){return t.getIsEduNext("start_at")}},model:{value:t.edu.start_at,callback:function(e){t.$set(t.edu,"start_at",e)},expression:"edu.start_at"}})],1)],1),n("div",{staticClass:"base-item"},[n("el-form-item",[n("div",{staticClass:"base-name"}),n("el-date-picker",{attrs:{align:"right",type:"month",placeholder:"结束时间","value-format":"yyyy-MM","default-value":t.defaultEduTimePicker},on:{change:function(e){return t.getIsEduNext("end_at")}},model:{value:t.edu.end_at,callback:function(e){t.$set(t.edu,"end_at",e)},expression:"edu.end_at"}})],1)],1)])],1),n("div",{staticClass:"btn"},["edu"===t.step[0]||"updated"===t.updatedType&&"edu"===t.step[1]?t._e():n("button",{staticClass:"prev-btn",on:{click:t.eduPrev}},[t._v("上一步 ")]),n("button",{class:[t.isEduNext?"active":"disabled"],on:{click:t.eduNext}},[t._v("下一步")])])],1):t._e(),t.alertData.show&&"work"===t.data.type?n("div",{staticClass:"box base-info"},["work"===t.step[0]||"updated"===t.updatedType&&"work"===t.step[1]?n("i",{staticClass:"close iconfont iconx",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e(),n("div",{staticClass:"base-title"},[t._v("请补充基本信息")]),n("div",{staticClass:"base-msg"},[t._v("工作经历")]),n("el-form",{staticClass:"base-form"},[n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("公司名称")]),n("el-input",{attrs:{placeholder:"请填写公司名称"},on:{input:t.getIsWorkNext},model:{value:t.work.company,callback:function(e){t.$set(t.work,"company",e)},expression:"work.company"}})],1),n("el-form-item",[n("div",{staticClass:"base-name"},[t._v("职位")]),n("el-input",{attrs:{placeholder:"请填写职位"},on:{input:t.getIsWorkNext},model:{value:t.work.title,callback:function(e){t.$set(t.work,"title",e)},expression:"work.title"}})],1),n("div",{staticClass:"base-name"},[t._v("在职时间")]),n("div",{staticClass:"base-option"},[n("div",{staticClass:"base-item"},[n("el-form-item",[n("el-date-picker",{attrs:{align:"right",type:"month",placeholder:"入职时间","value-format":"yyyy-MM"},on:{change:t.getIsWorkNext},model:{value:t.work.start_at,callback:function(e){t.$set(t.work,"start_at",e)},expression:"work.start_at"}})],1)],1),n("div",{staticClass:"base-item present"},[n("el-form-item",[t.work.present?n("div",{staticClass:"edit-item-now"},[t._v(t._s(t.work.present))]):t._e(),n("el-date-picker",{attrs:{align:"right",type:"month",placeholder:"离职时间","value-format":"yyyy-MM","picker-options":t.pickerOptions,editable:!1,"validate-event":!1},on:{change:function(e){t.work.present="",t.getIsWorkNext()}},model:{value:t.work.end_at,callback:function(e){t.$set(t.work,"end_at",e)},expression:"work.end_at"}})],1)],1)])],1),n("div",{staticClass:"btn"},["work"===t.step[0]||"updated"===t.updatedType&&"work"===t.step[1]?t._e():n("button",{staticClass:"prev-btn",on:{click:function(e){return e.stopPropagation(),t.workPrev()}}},[t._v("上一步 ")]),n("button",{class:[t.isWorkNext?"active":"disabled"],on:{click:function(e){return t.workNext()}}},[t._v("下一步")])])],1):t._e(),t.alertData.show&&"end"===t.data.type?n("div",{staticClass:"box end"},[n("img",{staticClass:"end-img",attrs:{src:"https://files.wondercv.com/pcvue/end.png",alt:""}}),n("div",{staticClass:"end-title"},[t._v("已开启智能推荐")]),n("div",{staticClass:"end-msg"},[t._v("HR 可能对你发出职位邀请，下载超级简历 App 立刻和 HR 直聊！")]),n("button",{staticClass:"end-btn",on:{click:function(e){t.close("downloadApp"),t.$message.success("updated"===t.updatedType?"简历已更新":"简历已推荐")}}},[t._v(" 点击下载 App ")])]):t._e(),t.alertData.show&&"intention"===t.data.type?n("intention",{attrs:{isClose:"intention"===t.step[0],showPrev:t.getShowPrev("intention"),show:t.alertData.show&&"intention"===t.data.type},on:{close:t.close,prev:t.intentionPrev,next:t.intentionNext}}):t._e(),t.alertData.show&&"drainage"===t.data.type?n("div",{staticClass:"box download-app"},[n("div",{staticClass:"title"},[t._v("兑换免费会员")]),n("div",{staticClass:"score"},[t._v("当前账户内有"),n("span",[t._v(t._s(t.alertData.score)+"个积分，")]),t._v("扫码兑换免费会员")]),n("img",{attrs:{src:"https://files.wondercv.com/PC/cvs/downloadapp.png",alt:""}}),n("div",{staticClass:"bottom"},[t._v("扫码下载APP，立即兑换")])]):t._e(),t.alertData.show&&"cvsguanggao"===t.data.type?n("div",{staticClass:"box groups-cvs",on:{click:function(e){return t.cvslink(t.alertData.image.link)}}},[n("img",{attrs:{src:t.alertData.image.image,alt:""}})]):t._e(),t.alertData.show&&"groups"===t.data.type?n("div",{staticClass:"box groups"},[n("div",{staticClass:"groups-left"},[n("h5",{staticClass:"groups-left-title"},[t._v("校友专属福利")]),n("div",{staticClass:"groups-left-item"},[n("h6",[t._v("校友专属")]),n("p",[n("span",[t._v(t._s(t.alertData.schoolName))]),t._v("专属会员")])]),n("div",{staticClass:"groups-left-item"},[n("h6",[t._v("校友专属")]),n("p",[t._v("2022 大厂校招简历模板")])]),n("div",{staticClass:"groups-left-item"},[n("h6",[t._v("校友专属")]),n("p",[t._v("应届生高薪技术简历模板")])]),n("img",{staticClass:"groups-left-bg",attrs:{src:"https://files.wondercv.com/PC/jigouhao.png",alt:""}})]),n("div",{staticClass:"groups-right"},[n("img",{staticClass:"groups-right-logo",attrs:{src:t.alertData.schoolLogo,alt:""}}),n("h5",{staticClass:"groups-right-title"},[t._v("校友专属会员免费领")]),n("qrcode-vue",{staticClass:"groups-right-qrcode",attrs:{value:t.host+"/groups/"+t.alertData.groupToken+"/invite?account="+t._c_t,size:180}}),n("p",{staticClass:"groups-right-desc"},[t._v("扫码立即领取校友专属会员")])],1)]):t._e()],1)],1)},i=[],a=(n("99af"),n("4de4"),n("c740"),n("c975"),n("fb6a"),n("b0c0"),n("ac1f"),n("5319"),n("1276"),n("498a"),n("2909")),r=(n("96cf"),n("1da1")),c=n("5530"),o=n("2f62"),u=n("bbd5"),l=n("365c"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"intention-box-main cvs-intention"},[t.show?n("div",{staticClass:"box",style:{height:t.is_student?"458px":"598px"}},[t.isClose?n("i",{staticClass:"close iconfont iconx",on:{click:function(e){return e.stopPropagation(),t.$emit("close")}}}):t._e(),n("div",{staticClass:"name"},[t._v("求职意向")]),n("div",{staticClass:"title"},[t._v("行业领域")]),n("select-box",{scopedSlots:t._u([{key:"input",fn:function(){return[n("div",{staticClass:"industries-input"},t._l(t.industrie,(function(e,s){return n("div",{key:s,staticClass:"item"},[t._v(" "+t._s(e)+" "),"不限"!==e?n("div",{staticClass:"item-clone",on:{click:function(n){return n.stopPropagation(),t.selectIndustrie(e)}}},[n("img",{attrs:{src:"https://files.wondercv.com/cvsvue/jobs_delete.png"}})]):t._e()])})),0)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"industries"},t._l(t.conditionsData.industries,(function(e,s){return n("div",{key:s,class:["item",t.industrie&&-1!==t.industrie.indexOf(e.cn)?"active":""],on:{click:function(n){return t.selectIndustrie(e.cn)}}},[t._v(" "+t._s(e.cn)+" ")])})),0)]},proxy:!0}],null,!1,4167251305)}),n("div",{staticClass:"title"},[t._v("工作地点")]),n("select-box",{scopedSlots:t._u([{key:"input",fn:function(){return[n("div",{staticClass:"industries-input"},t._l(t.citie,(function(e,s){return n("div",{key:s,staticClass:"item"},[t._v(" "+t._s(e)+" "),"全国"!==e?n("div",{staticClass:"item-clone",on:{click:function(n){return n.stopPropagation(),t.selectCitie(e)}}},[n("img",{attrs:{src:"https://files.wondercv.com/cvsvue/jobs_delete.png"}})]):t._e()])})),0)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"city"},[n("div",{staticClass:"left-model"},t._l(t.cityList,(function(e,s){return n("div",{directives:[{name:"show",rawName:"v-show",value:"其他"!==e.group_name,expression:"item.group_name !== '其他'"}],key:s,class:["item",t.citiesIndex===s?"active":""],on:{click:function(e){t.citiesIndex=s}}},[t._v(" "+t._s(e.group_name)+" ")])})),0),t.cityList[t.citiesIndex]?n("div",{staticClass:"right-model"},t._l(t.cityList[t.citiesIndex].part_cities,(function(e,s){return n("div",{key:e.id,class:["menu",-1!==t.citie.indexOf(e.city_name||e.cn)?"active":""],on:{click:function(n){return t.selectCitie(e.city_name||e.cn)}}},[t._v(" "+t._s(e.city_name||e.cn)+" ")])})),0):t._e()])]},proxy:!0}],null,!1,346759785)}),n("div",{staticClass:"title"},[t._v("职位类型")]),n("select-box",{scopedSlots:t._u([{key:"input",fn:function(){return[n("div",{staticClass:"industries-input"},t._l(t.categorie,(function(e,s){return n("div",{key:s,staticClass:"item"},[t._v(" "+t._s(e)+" "),"不限"!==e?n("div",{staticClass:"item-clone",on:{click:function(n){return n.stopPropagation(),t.selectCategorie(e)}}},[n("img",{attrs:{src:"https://files.wondercv.com/cvsvue/jobs_delete.png"}})]):t._e()])})),0)]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"industries"},[n("div",{class:["item",t.categorie&&-1!==t.categorie.indexOf("不限")?"active":""],on:{click:function(e){return t.selectCategorie("不限")}}},[t._v(" 不限 ")]),t._l(t.conditionsData.professions,(function(e,s){return n("div",{key:s,class:["item",-1!==t.categorie.indexOf(e.name)?"active":""],on:{click:function(n){return t.selectCategorie(e.name)}}},[t._v(" "+t._s(e.name)+" ")])}))],2)]},proxy:!0}],null,!1,114502647)}),t.is_student?t._e():n("div",[n("div",{staticClass:"title"},[t._v("期望薪资")]),n("div",{staticClass:"salary"},[n("label",{staticClass:"salary-item"},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.minChange(e),t.isActive()}},model:{value:t.expect_min_salary,callback:function(e){t.expect_min_salary=e},expression:"expect_min_salary"}},t._l(100,(function(t){return n("el-option",{key:t,attrs:{label:100===t?"100k以上":t,value:t}})})),1),n("div",{staticClass:"salary-item-text"},[t._v("K/月")])],1),t.expect_min_salary<100?n("div",{staticClass:"salary-text"},[t._v("至")]):t._e(),t.expect_min_salary<100?n("label",{staticClass:"salary-item"},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.isActive},model:{value:t.expect_max_salary,callback:function(e){t.expect_max_salary=e},expression:"expect_max_salary"}},t._l(100,(function(e){return e>t.expect_min_salary&&e<=2*t.expect_min_salary?n("el-option",{key:e,attrs:{label:e,value:e}}):t._e()})),1),n("div",{staticClass:"salary-item-text"},[t._v("K/月")])],1):t._e()]),n("div",{staticClass:"title"},[t._v("当前状态")]),n("div",{staticClass:"type"},t._l(t.statusAll,(function(e,s){return n("div",{key:s,class:["type-item",e===t.expect_status?"active":""],on:{click:function(n){t.expect_status=e,t.isActive()}}},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",{staticClass:"btn"},[t.showPrev?n("button",{directives:[{name:"show",rawName:"v-show",value:!t.isClose,expression:"!isClose"}],staticClass:"prev-btn",on:{click:function(e){return t.$emit("prev")}}},[t._v("上一步")]):t._e(),n("button",{class:[t.isActiveSave||t.is_student?"active":""],on:{click:t.save}},[t._v("下一步")])])],1):t._e()])},p=[],v=(n("4160"),n("d81d"),n("a434"),n("b64b"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-main",on:{click:function(e){return t.selectShow("main")}}},[n("div",{staticClass:"content"},[n("input",{ref:"select",attrs:{type:"text"},on:{focus:t.selectFocus,blur:t.selectBlur}}),t._t("input"),n("i",{staticClass:"iconfont iconchevron-down",class:[t.show?"active":""]})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["main",t.position],style:{position:t.position},on:{click:t.selectShow}},[t._t("content")],2)])}),h=[],f={name:"selectBox",props:{position:{type:String,default:"absolute"}},data:function(){return{show:!1,run:!1}},methods:{selectShow:function(t){if("main"===t&&this.show)return!1;this.$refs.select.focus()},selectFocus:function(){this.show=!0,clearTimeout(this.run)},selectBlur:function(){var t=this;this.run=setTimeout((function(){t.show=!1}),200)}}},m=f,_=(n("58ea"),n("2877")),g=Object(_["a"])(m,v,h,!1,null,"41ffb822",null),k=g.exports,b=n("9a7c"),x={name:"intentionBox",components:{selectBox:k},props:{show:{type:Boolean,required:!0},isClose:!1,showPrev:!0},data:function(){return{work_time_all:["不限","全职","兼职","实习"],work_time:"不限",industrie:["不限"],categories:[],categorie:["不限"],citiesIndex:0,citie:["全国"],cityList:[],expect_max_salary:"",expect_min_salary:"",expect_status:"",statusAll:["离职-随时到岗","在职-考虑机会","在职-暂不考虑"],isActiveSave:!1,is_student:!1,conditionsData:{}}},computed:Object(c["a"])({},Object(o["e"])("jobs",["intention","cities","userIntentions"])),watch:{userIntentions:{keep:!0,immediate:!0,handler:function(t){t=JSON.parse(JSON.stringify(t)),this.expect_max_salary=t.expect_max_salary||"",this.expect_min_salary=t.expect_min_salary||"",this.expect_status=t.expect_status||"",this.isActive(),"string"===typeof t.work_time?"不限"===t.work_time||"未开启"===t.work_time?this.work_time="不限":this.work_time=t.work_time:this.work_time=t.work_time&&t.work_time[0],"string"===typeof t.intention_cities?t.intention_cities&&"未开启"!==t.intention_cities?this.citie=[t.intention_cities]||!1:this.citie=["全国"]:t.intention_cities&&t.intention_cities[0]?this.citie=t.intention_cities||["全国"]:this.citie=["全国"],"string"===typeof t.profession_names?t.profession_names?"未开启"===t.profession_names?this.categorie=["不限"]:this.categorie=[t.profession_names]:this.categorie=["不限"]:this.categorie=t.profession_names||["不限"],"string"===typeof t.industry_names?t.industry_names&&"未开启"!==t.industry_names?this.industrie=[t.industry_names]:this.industrie=["不限"]:this.industrie=t.industry_names||["不限"]}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].me.getUserInfo(Object(u["k"])().c_t);case 2:if(n=e.sent,1e3===n.code){e.next=6;break}return t.$message.error("网络出错，请重试"),e.abrupt("return",!1);case 6:t.is_student=n.data.is_student;case 7:case"end":return e.stop()}}),e)})))();case 2:return t.getIntention(),e.next=5,l["a"].recruit.toObtainCityNew({nums:0,job_count:0});case 5:n=e.sent,s=[],Object.keys(n.data).forEach((function(t,e){var i={};i.group_name="hot_cities"==t?"热门城市":t,i.part_cities=n.data[t].map((function(t){return t.id=t.city_id,t})),s.push(i)})),i=s||[],a=n.data.hot_cities||[],a.unshift({city_name:"全国",id:0}),i[0]={group_name:"热门城市",part_cities:a},t.cityList=i,t.$forceUpdate();case 14:case"end":return e.stop()}}),e)})))()},methods:{getProfessions:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].recruit.get_professions_hot_name();case 2:n=e.sent,1e3===n.code&&(t.conditionsData.professions=n.data);case 4:case"end":return e.stop()}}),e)})))()},getIndustries:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].recruit.get_industries_list();case 2:n=e.sent,1e3===n.code&&(t.conditionsData.industries=n.data);case 4:case"end":return e.stop()}}),e)})))()},minChange:function(t){this.expect_max_salary=t<100?t+1:""},isActive:function(){this.isActiveSave=!1;return this.expect_min_salary?this.expect_min_salary<100&&!this.expect_max_salary?"请选择最高薪资":this.expect_status?(this.isActiveSave=!0,!0):"请选择当前状态":"请选择最低薪资"},getIntention:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["g"])();case 2:return n=e.sent,e.next=5,l["a"].recruit.jobIntention(n);case 5:if(s=e.sent,!s.code||1e3!==s.code){e.next=9;break}return e.next=9,t.$store.dispatch("jobs/getIntention",s.data);case 9:return e.next=11,Promise.all([t.getProfessions(),t.getIndustries()]);case 11:t.intentionShow=!0;case 12:case"end":return e.stop()}}),e)})))()},clone:function(){if(this.isClose)return!1;this.$emit("clone")},selectCitie:function(t){if("全国"===t)return this.citie=["全国"],!1;if(-1===this.citie.indexOf(t)){if(-1!==this.citie.indexOf("全国")&&(this.citie=[]),this.citie.length>=3)return this.$message.warning("最多选择三个"),!1;this.citie.push(t)}else this.citie.splice(this.citie.indexOf(t),1),!this.citie.length&&(this.citie=["全国"])},selectCategorie:function(t){if("不限"===t)return this.categorie=["不限"],!1;if(-1===this.categorie.indexOf(t)){if(-1!==this.categorie.indexOf("不限")&&(this.categorie=[]),this.categorie.length>=3)return this.$message.warning("最多选择三个"),!1;this.categorie.push(t)}else this.categorie.splice(this.categorie.indexOf(t),1),!this.categorie.length&&(this.categorie=["不限"])},selectIndustrie:function(t){if("不限"===t)return this.industrie=["不限"],!1;if(-1===this.industrie.indexOf(t)){if(-1!==this.industrie.indexOf("不限")&&(this.industrie=[]),this.industrie.length>=3)return this.$message.warning("最多选择三个"),!1;this.industrie.push(t)}else this.industrie.splice(this.industrie.indexOf(t),1),!this.industrie.length&&(this.industrie=["不限"])},getIndustriesIds:function(t){var e=this.conditionsData.industries,n=[];return e.forEach((function(e){var s=t.findIndex((function(t){return t===e.cn}));s>-1&&n.push(e.id)})),n},getProfessionIds:function(t){var e=this.conditionsData.professions,n=[];return e.forEach((function(e){var s=t.findIndex((function(t){return t===e.name}));s>-1&&(n=[].concat(Object(a["a"])(n),Object(a["a"])(e.results)))})),n},save:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,i,r,c,o,u,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.is_student||t.isActiveSave){e.next=3;break}return t.$message.error(t.isActive()),e.abrupt("return",!1);case 3:for(n=[],s=t.citie,[],i=JSON.parse(JSON.stringify(t.cityList)),r=[],c=0;c<i.length;c++)r=r.concat(i[c].part_cities);o=0;case 10:if(!(o<s.length)){e.next=17;break}if("全国"!==s[o]){e.next=13;break}return e.abrupt("break",17);case 13:for(u=0;u<r.length;u++)s[o]===r[u].city_name&&n.push(r[u].id);case 14:o++,e.next=10;break;case 17:return d={industry_ids:t.getIndustriesIds(t.industrie)&&t.getIndustriesIds(t.industrie),profession_full_ids:t.getProfessionIds(t.categorie),city_ids:Object(a["a"])(new Set(n)),expect_max_salary:t.expect_max_salary,expect_min_salary:t.expect_min_salary,expect_status:[t.expect_status]},d.industries="不限"===d.industries?"":d.industries,d.professions="不限"===d.professions?"":d.professions,d.work_time="不限"===d.work_time?"":d.work_time,e.next=23,l["a"].identity.updateInten(d);case 23:p=e.sent,1e3===p.code?(t.$message.success("保存成功"),t.$emit("next"),t.getIntention()):t.$message.error("保存失败");case 25:case"end":return e.stop()}}),e)})))()}}},w=x,C=(n("3a1a"),n("fade"),Object(_["a"])(w,d,p,!1,null,"60b9fd60",null)),y=C.exports,O=n("3278"),I=n("f49e"),D=n.n(I),j=(n("c1df"),{name:"CvsAlert",components:{intention:y,qrcodeVue:D.a},props:["alertData","updatedType"],data:function(){var t=this;return{_c_t:"",data:{},identity:"",cv:{},intentionShow:!0,step:[],cvCheck:{},defaultEduTimePicker:"",name:"",gender:"",contact:"",code:"",codeText:"获取验证码",isPhoneDisabled:!1,isBaseInfoNext:!1,isEduNext:!1,edu:{university:"",major:"",degree:"",start_at:"",end_at:""},isWorkNext:!1,work:{company:"",title:"",start_at:"",end_at:""},pickerOptions:{shortcuts:[{text:"至今",onClick:function(e){e.$emit("pick",""),setTimeout((function(){t.work=Object(c["a"])(Object(c["a"])({},t.work),{},{present:"至今",end_at:""}),t.getIsWorkNext()}),50)}}]},setReady:!1,host:null}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["e"])("cv",["cvs"])),Object(o["e"])("jobs",["intention","cities","userIntentions"])),Object(o["e"])("editor",["cvDetail","edus","works"])),{},{degreeOptions:function(){return O},cnList:function(){return this.cvs.filter((function(t){return!t.mentor_id&&"cn"===t.lang&&t.can_editable}))}}),watch:{alertData:{deep:!0,immediate:!0,handler:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.data=JSON.parse(JSON.stringify(e)),e.show){t.next=3;break}return t.abrupt("return",!1);case 3:return"perfect"===e.showType&&(this.cv=e.cv,this.data.type="",this.selectCvNuxt()),this.step=[e.type],this.name="",this.gender="",this.contact="",this.code="",this.identity="",t.next=12,l["a"].cvsV2.checkCv(this.cv.token);case 12:n=t.sent,1e3===n.status&&(this.cvCheck=n.data||{});case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},"edu.degree":{deep:!0,immediate:!0,handler:function(t){if(t&&this.edu.start_at){var e=this.edu.start_at.split("-")[0];switch(t){case"本科":this.defaultEduTimePicker=+e+4+"-06";break;case"MBA":this.defaultEduTimePicker=+e+2+"-06";break;default:this.defaultEduTimePicker=+e+3+"-06";break}}else this.defaultEduTimePicker=""}},"edu.start_at":{deep:!0,immediate:!0,handler:function(t){if(this.edu.start_at){var e=this.edu.start_at.split("-")[0];switch(t){case"本科":this.defaultEduTimePicker=+e+4+"-06";break;case"MBA":this.defaultEduTimePicker=+e+2+"-06";break;default:this.defaultEduTimePicker=+e+3+"-06";break}}else this.defaultEduTimePicker=""}},cvs:{deep:!0,immediate:!0,handler:function(t){if(!t.length)return!1;for(var e=0;e<t.length;e++)if(!t[e].is_mentor&&"cn"===t[e].lang){this.cv=t[e];break}}},data:{deep:!0,immediate:!0,handler:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.show){t.next=2;break}return t.abrupt("return",!1);case 2:if("baseInfo"===e.type)this.code="";else if("work"===e.type)setTimeout((function(){a.pickerOptions={shortcuts:[{text:"至今",onClick:function(t){t.$emit("pick",""),setTimeout((function(){a.work=Object(c["a"])(Object(c["a"])({},a.work),{},{present:"至今",end_at:""}),a.getIsWorkNext()}),50)}}]}}),100);else if("onLine"===e.type&&"updated"===this.updatedType){for(n=[],s=this.cvs,i=0;i<s.length;i++)s[i].is_mentor||"cn"!==s[i].lang||n.push(s[i]);1===n.length&&(this.data.type="",this.cv=Object(c["a"])(Object(c["a"])({},n[0]),{},{token:n[0].token||n[0].cv_token}),this.selectCvNuxt())}case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},created:function(){this.host=window.location.origin.replace("www","m"),this._c_t=Object(u["k"])().c_t||"",this.getIntention()},mounted:function(){},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(o["b"])("editor",["getCvDetail","updateCvDetail","getExperience","createExperience","updateExperience"])),Object(o["d"])("cvEditor",["setCvToken"])),{},{getUsersInfo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(u["k"])().t||"",e.next=3,l["a"].auth.get_users_bind_info(n);case 3:s=e.sent,1e3===s.code&&s.data.phone&&(t.contact=s.data.phone,console.log(t.contact,s.data.phone,"aaaaa"));case 5:case"end":return e.stop()}}),e)})))()},closeDialog:function(){"end"===this.data.type&&(this.close(),this.$message.success("updated"===this.updatedType?"简历已更新":"简历已推荐")),"drainage"!=this.data.type&&"groups"!=this.data.type&&"cvsguanggao"!=this.data.type||this.close()},selectIdentity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.identity=t,n.next=3,l["a"].cvsV2.setIdentifyInfo(e._c_t,{status:1===t?"student":"already_work"});case 3:if(s=n.sent,1e3===s.code){n.next=7;break}return e.selectIdentity(t),n.abrupt("return",!1);case 7:if("identity"!==e.alertData.showType){n.next=10;break}return e.$emit("close"),n.abrupt("return",!1);case 10:e.toStep();case 11:case"end":return n.stop()}}),n)})))()},sendCode:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=String(t.contact).trim(),t.codeText,s=/^1[3-9]\d{9}$/gim,s.test(n)){e.next=6;break}return t.$message.error("手机号格式不正确"),e.abrupt("return",!1);case 6:if("获取验证码"===t.codeText){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,l["a"].cvsV2.phoneValidateCode(t._c_t,{phone:n});case 10:i=e.sent,1e3===i.code?(a=60,t.codeText="".concat(a," 秒后重发"),r=setInterval((function(){a--,t.codeText="".concat(a," 秒后重发"),a<=0&&(clearInterval(r),t.codeText="获取验证码")}),1e3)):t.$message.error("验证码发送失败");case 12:case"end":return e.stop()}}),e)})))()},getShowPrev:function(t){var e=this.step;return e.indexOf(t)>0},getIsBaseInfoNuxt:function(){this.isBaseInfoNext=this.name&&this.gender&&/^1[3-9]\d{9}$/gim.test(String(this.contact).trim())&&(this.isPhoneDisabled||!this.isPhoneDisabled&&/^\d{4,6}$/.test(this.code))},baseInfoPrev:function(){this.toStepPrev()},baseInfoNext:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isBaseInfoNext){e.next=9;break}return n="",t.name||(n="请填写姓名"),t.gender||(n="请选择性别"),String(t.contact).trim()||(n="请填写联系方式"),/^1[3-9]\d{9}$/.test(String(t.contact).trim())||(n="请正确填写联系方式"),t.isPhoneDisabled||/^\d{4,6}$/.test(t.code)||(n="请填写验证码"),t.$message.error(n),e.abrupt("return",!1);case 9:if(t.isPhoneDisabled){e.next=16;break}return e.next=12,l["a"].cvsV2.validateCode(t._c_t,{phone:String(t.contact).trim(),code:t.code});case 12:if(s=e.sent,1e3===s.code){e.next=16;break}return t.$message.error("验证码不正确"),e.abrupt("return",!1);case 16:return i={name:t.name,gender:t.gender,contact:String(t.contact).trim()},e.next=19,l["a"].cvsV2.setBasicInfo(t._c_t,i);case 19:a=e.sent,1e3!==a.code&&t.$message.error(),t.isPhoneDisabled=!0,r=t.toStepNext(),!r&&t.setReady&&t.createdOnlineCv();case 24:case"end":return e.stop()}}),e)})))()},getIntention:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].recruit.jobIntention({platform:"pc"});case 2:if(n=e.sent,!n.code||1e3!==n.code){e.next=6;break}return e.next=6,t.$store.dispatch("jobs/getIntention",n.data);case 6:return e.next=8,t.$store.dispatch("jobs/setIntention",b);case 8:t.intentionShow=!0;case 9:case"end":return e.stop()}}),e)})))()},intentionPrev:function(){this.onlinePrev()},intentionNext:function(){this.cnList.length>1?(this.data.type="onLine",this.step.push("onLine")):1===this.cnList.length&&this.selectCvNuxt()},selectCv:function(t,e){this.cv=t},onlinePrev:function(){this.toStepPrev()},selectCvNuxt:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,i,a,r,c,o,d,p,v,h,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cv.token){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,l["a"].cvsV2.checkCv(t.cv.token);case 4:n=e.sent,t.cvCheck=n.data||{},s=t.step,i=0;case 8:if(!(i<s.length)){e.next=15;break}if(!("onLine"===s[i]&&i<s.length-1)){e.next=12;break}return s=s.slice(0,i+1),e.abrupt("break",15);case 12:i++,e.next=8;break;case 15:if("perfect"===t.data.showType&&(s=[]),t.step=s,t.cvCheck.name_valid&&t.cvCheck.contact_valid&&t.cvCheck.gender_valid||t.step.push("baseInfo"),t.cvCheck.edu_valid||t.step.push("edu"),t.cvCheck.work_valid||t.step.push("work"),!(t.cvCheck.name_valid&&t.cvCheck.contact_valid&&t.cvCheck.gender_valid&&t.cvCheck.edu_valid&&t.cvCheck.work_valid)){e.next=23;break}return t.createdOnlineCv(),e.abrupt("return",!1);case 23:if(t.cvCheck.name_valid&&t.cvCheck.contact_valid&&t.cvCheck.gender_valid){e.next=30;break}return a=Object(u["k"])().t||"",e.next=27,l["a"].cvsV2.getBasicInfo(a,{});case 27:n=e.sent,1e3===n.code?(t.name=n.data.name,t.gender=n.data.gender,t.contact=n.data.contact,t.isPhoneDisabled=!!t.cvCheck.contact_valid&&!!n.data.contact,t.getIsBaseInfoNuxt()):t.$message.error("基本信息获取失败"),t.getUsersInfo();case 30:return e.next=32,t.getCvDetail(t.cv.token);case 32:if(r=t.cvDetail,c=r.submodule_info,o=c.edus_ids,d=c.works_ids,p=r.basic_info.lang,t.cvCheck.edu_valid){e.next=40;break}if(!o.length){e.next=38;break}return v={lang:p,ids:o[0]},e.next=38,t.getExperience({type:"edus",payload:v});case 38:t.edu=t.edus[0]||t.edu,t.getIsEduNext();case 40:if(t.cvCheck.work_valid){e.next=47;break}if(!d.length){e.next=45;break}return h={lang:p,ids:d[0]},e.next=45,t.getExperience({type:"works",payload:h});case 45:t.work=t.works[0]||t.works,t.getIsWorkNext();case 47:if(f="","perfect"===t.data.showType?(t.data.type=t.step[0],f=t.step[0]):f=t.toStepNext(),f){e.next=54;break}return e.next=52,l["a"].cvsV2.createdOnlineCv({token:t.cv.token});case 52:m=e.sent,1e3===m.code?(t.$message.success("在线简历创建成功"),t.$emit("update")):t.$message.error(m.message);case 54:t.data.show=!0;case 55:case"end":return e.stop()}}),e)})))()},toStep:function(){var t=this.userIntentions,e="未开启"===t.profession_names||"未开启"===t.intention_cities||"未开启"===t.industry_names||"未开启"===t.work_time;return e?(this.data.type="intention",this.step.push("intention"),!1):(this.data.type="onLine",this.step.push("onLine"),!1)},toStepNext:function(){for(var t=this.step,e=0;e<t.length;e++)if((t[e]===this.data.type||""===this.data.type)&&t.length>e+1)return this.data.type=t[e+1],t[e+1];return this.setReady=!0,!1},toStepPrev:function(){for(var t=this.step,e=0;e<t.length;e++)if(t[e]===this.data.type&&e-1>=0)return this.data.type=t[e-1],t[e-1];return!1},workPrev:function(){this.toStepPrev()},eduPrev:function(){this.toStepPrev()},workNext:function(){var t=this.work.start_at&&(this.work.end_at||this.work.present)&&new Date(this.work.start_at).getTime()>(this.work.present?Date.now():new Date(this.work.end_at).getTime());if(!this.isWorkNext){var e="";return this.work.company?this.work.title?this.work.start_at?this.work.end_at||this.work.present?t&&(e="开始时间不能晚于结束时间"):e="请选择结束时间":e="请选择开始时间":e="请选择职位":e="请填写公司",this.$message.error(e),!1}this.toStepNext(),this.saveWorkData()},eduNext:function(){if(!this.isEduNext){var t="";return this.edu.university?this.edu.major?this.edu.degree?this.edu.start_at?this.edu.end_at?this.edu.start_at&&this.edu.end_at&&new Date(this.edu.start_at).getTime()>new Date(this.edu.end_at).getTime()&&(t="开始时间不能晚于结束时间"):t="请选择结束时间":t="请选择开始时间":t="请选择学历":t="请填写专业":t="请填写学校",this.$message.error(t),!1}this.toStepNext(),this.saveEduData()},getIsEduNext:function(t){if(this.edu.start_at&&this.edu.end_at&&new Date(this.edu.start_at).getTime()>new Date(this.edu.end_at).getTime())return this.$message.error("开始时间不能晚于结束时间"),this.isEduNext=!1,!1;t&&t.id&&t.cn&&(this.edu.degree=t.cn||null,this.edu.degree_id=t.id||null,this.edu.degree?this.edu.edu_type||(this.edu.edu_type="全日制"):this.edu.edu_type=null),this.isEduNext=this.edu.university&&this.edu.major&&this.edu.degree&&this.edu.start_at&&this.edu.end_at},getIsWorkNext:function(){var t=this.work.start_at&&(this.work.end_at||this.work.present)&&new Date(this.work.start_at).getTime()>(this.work.present?Date.now():new Date(this.work.end_at).getTime());if(t)return this.$message.error("开始时间不能晚于结束时间"),this.isWorkNext=!1,!1;this.isWorkNext=this.work.company&&this.work.title&&this.work.start_at&&(this.work.end_at||this.work.present)},_saveExperience:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,!t.id||"sample"===t.kind){s.next=8;break}return s.next=4,n.updateExperience({type:e,payload:Object(c["a"])(Object(c["a"])({},t),{},{lang:"cn"})});case 4:i=s.sent,1e3===i.code&&n.updateCvData(e),s.next=12;break;case 8:return s.next=10,n.createExperience({type:e,payload:Object(c["a"])(Object(c["a"])({},t),{},{lang:"cn"})});case 10:a=s.sent,1e3===a.code&&n.updateCvData(e,[a.data[e].id]);case 12:s.next=17;break;case 14:s.prev=14,s.t0=s["catch"](0),console.log(s.t0);case 17:case"end":return s.stop()}}),s,null,[[0,14]])})))()},cvslink:function(t){window.open(t,"_blank"),this.close()},saveEduData:function(){this._saveExperience(this.edu,"edus")},saveWorkData:function(){this._saveExperience(this.work,"works")},updateCvData:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var i,r,c,o,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,i=n.cvDetail,r=i.submodule_info.sections_position,i.basic_info.token,c=r.findIndex((function(e){return e.type===t})),o=JSON.parse(JSON.stringify(r)),-1===c&&(o=[].concat(Object(a["a"])(r),[{id:null,type:t,info_ids:[]}])),u={operation_type:"update_submodule_info",submodule_info:{sections_position:o}},e&&(u.submodule_info["".concat(t,"_ids")]=e),s.next=9,n.updateCvDetail(u);case 9:n.setReady&&n.createdOnlineCv(),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),console.log(s.t0);case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))()},createdOnlineCv:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].cvsV2.createdOnlineCv({token:t.cv.token});case 2:n=e.sent,1e3===n.code?(t.data.type="end",t.step.push("end")):t.$message.error("提交失败，请重试");case 4:case"end":return e.stop()}}),e)})))()},close:function(t){this.$emit("close"),"downloadApp"===t&&this.$emit("changeDownloadAppState")}})}),N=j,P=(n("9ea0"),n("9f42"),n("f84a"),Object(_["a"])(N,s,i,!1,null,"6838f7fb",null));e["a"]=P.exports},b63d:function(t,e,n){"use strict";n("4403")},beab:function(t,e,n){},d10e:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("ac1f"),n("1276");var s=n("5530"),i=n("a78e"),a=n.n(i),r=n("365c"),c={computed:{accountToken:function(){var t=a.a.get("_t");if(t){var e=t&&JSON.parse(window.atob(t.split(".")[1]));return e.User}return{}}},methods:{reportedData:function(t){try{r["a"].io.reportedData(Object(s["a"])({cv_account_token:this.accountToken.c_t,hr_account_token:this.accountToken.h_t},t)).then((function(){})).catch((function(t){return console.log(t)}))}catch(e){console.log(e)}}}}},dce2:function(t,e,n){},f84a:function(t,e,n){"use strict";n("93fc")},fade:function(t,e,n){"use strict";n("dce2")},fe85:function(t,e,n){}}]);
//# sourceMappingURL=account~cvs~mentor.9dd400c3.js.map